{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst refs = {\n  datetime: document.querySelector(\"#datetime-picker\"),\n  btn: document.querySelector('.timer-btn'),\n  daysField: document.querySelector('.field:nth-child(1) .value'),\n  hoursField: document.querySelector('.field:nth-child(2) .value'),\n  minutesField: document.querySelector('.field:nth-child(3) .value'),\n  secondsField: document.querySelector('.field:last-child .value')\n}\n\n\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    const selectedDate = selectedDates[0];\n    if (selectedDate <= new Date()) {   \n      iziToast.error({message: \"Please choose a date in the future\", position:`topRight` });\n    } else {\n      refs.btn.disabled = false;\n    }\n  },\n};\n\n\nconst picker = flatpickr(refs.datetime, options);\n\n  const timer = {\n    isActive: false,\n    intervalID:null,\n    start() {\n      if (this.isActive) return;\n      this.isActive = true;\n      refs.datetime.disabled = true;\n      refs.btn.disabled = true;\n      this.intervalID = setInterval(() => {\n      const endDate = picker.selectedDates[0];\n      const date = new Date();\n      const diff = endDate - date;\n      convertMs(diff);\n      addLeadingZero()\n      if (diff < 1000) {\n        clearInterval(this.intervalID);\n        this.isActive = false;\n        refs.datetime.disabled = false;\n      } \n    }, 1000)\n    },\n\n}\n\n\n\nrefs.btn.addEventListener('click', () => {\n  timer.start();\n})\n\nfunction convertMs(ms) {\n\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n\n  const days = Math.floor(ms / day);\n  refs.daysField.textContent = days;\n  const hours = Math.floor((ms % day) / hour);\n  refs.hoursField.textContent = hours;\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  refs.minutesField.textContent = minutes;\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n  refs.secondsField.textContent = seconds;\n  return { days, hours, minutes, seconds };\n}\n\nfunction addLeadingZero() {\n  refs.daysField.textContent = refs.daysField.textContent.padStart(2, '0');\n  refs.hoursField.textContent = refs.hoursField.textContent.padStart(2, '0');\n  refs.minutesField.textContent = refs.minutesField.textContent.padStart(2, '0');\n  refs.secondsField.textContent = refs.secondsField.textContent.padStart(2, '0');\n}\n\n"],"names":["refs","options","selectedDates","iziToast","picker","flatpickr","timer","diff","convertMs","addLeadingZero","ms","days","hours","minutes","seconds"],"mappings":"+IAKA,MAAMA,EAAO,CACX,SAAU,SAAS,cAAc,kBAAkB,EACnD,IAAK,SAAS,cAAc,YAAY,EACxC,UAAW,SAAS,cAAc,4BAA4B,EAC9D,WAAY,SAAS,cAAc,4BAA4B,EAC/D,aAAc,SAAS,cAAc,4BAA4B,EACjE,aAAc,SAAS,cAAc,0BAA0B,CACjE,EAIMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACAA,EAAc,CAAC,GAChB,IAAI,KACtBC,EAAS,MAAM,CAAC,QAAS,qCAAsC,SAAS,WAAY,EAEpFH,EAAK,IAAI,SAAW,EAExB,CACF,EAGMI,EAASC,EAAUL,EAAK,SAAUC,CAAO,EAEvCK,EAAQ,CACZ,SAAU,GACV,WAAW,KACX,OAAQ,CACF,KAAK,WACT,KAAK,SAAW,GAChBN,EAAK,SAAS,SAAW,GACzBA,EAAK,IAAI,SAAW,GACpB,KAAK,WAAa,YAAY,IAAM,CAGpC,MAAMO,EAFUH,EAAO,cAAc,CAAC,EACzB,IAAI,KAEjBI,EAAUD,CAAI,EACdE,EAAc,EACVF,EAAO,MACT,cAAc,KAAK,UAAU,EAC7B,KAAK,SAAW,GAChBP,EAAK,SAAS,SAAW,GAE7B,EAAG,GAAI,EACP,CAEJ,EAIAA,EAAK,IAAI,iBAAiB,QAAS,IAAM,CACvCM,EAAM,MAAK,CACb,CAAC,EAED,SAASE,EAAUE,EAAI,CAQrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAChCV,EAAK,UAAU,YAAcW,EAC7B,MAAMC,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAC1CV,EAAK,WAAW,YAAcY,EAC9B,MAAMC,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EACvDV,EAAK,aAAa,YAAca,EAChC,MAAMC,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAClE,OAAAV,EAAK,aAAa,YAAcc,EACzB,CAAE,KAAAH,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,SAASL,GAAiB,CACxBT,EAAK,UAAU,YAAcA,EAAK,UAAU,YAAY,SAAS,EAAG,GAAG,EACvEA,EAAK,WAAW,YAAcA,EAAK,WAAW,YAAY,SAAS,EAAG,GAAG,EACzEA,EAAK,aAAa,YAAcA,EAAK,aAAa,YAAY,SAAS,EAAG,GAAG,EAC7EA,EAAK,aAAa,YAAcA,EAAK,aAAa,YAAY,SAAS,EAAG,GAAG,CAC/E"}